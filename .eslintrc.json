{
  "extends": ["next/core-web-vitals", "plugin:jsx-a11y/recommended"],
  "plugins": ["jsx-a11y"],
  "settings": {
    "import/resolver": {
      "typescript": {
        "project": "./"
      }
    }
  },
  "rules": {
    "react/no-unescaped-entities": "warn",
    "react-hooks/rules-of-hooks": "error",
    "react-hooks/exhaustive-deps": "warn",
    "jsx-a11y/label-has-associated-control": [1, { "depth": 3 }],
    "jsx-a11y/anchor-is-valid": 1,
    "jsx-a11y/no-autofocus": 1,
    "jsx-a11y/media-has-caption": 1
  },
  "overrides": [
    {
      "files": ["**/*.ts", "**/*.tsx"],
      "excludedFiles": ["app/api/**", "lib/**/*.server.ts", "app/**/server/**", "lib/supabaseAdmin.ts", "app/admin/**"],
      "rules": {
        "no-restricted-imports": ["error", {
          "paths": [
            {
              "name": "@/lib/supabase/service",
              "message": "DEPRECATED: Use @/lib/supabase/service.server for API routes, @/lib/supabase/client for client components, or @/lib/supabase/server for server components."
            },
            {
              "name": "@/lib/supabase/service.server",
              "message": "Use the service client only in server-only files (e.g., app/api/**, lib/**/*.server.ts, app/**/server/**). For client components use @/lib/supabase/client, for server components use @/lib/supabase/server."
            }
          ]
        }]
      }
    }
  ]
}
